<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="../../../ds/images/favico1.png" rel="apple-touch-icon" sizes="180x180" />
  <link href="../../../ds/images/favico1.png" rel="icon" sizes="32x32" type="image/png" />
  <link href="../../../ds/images/favico1.png" rel="icon" sizes="16x16" type="image/png" />
  <title>Unicorn ‚Ä¢ The UNIGLOBE</title>
  <style>
    :root{
      --bg:#0b0a0a; --panel:#151313; --text:#f5f4f2; --muted:#cfc7be; --line:rgba(255,255,255,.08);
      --pink:#f06292; --shadow:0 12px 28px rgba(0,0,0,.45); --radius:16px;
      --pink-1:#ffa3c0; --pink-2:#f06292; --tab-ink:#1b1330;
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; display:flex; flex-direction:column; min-height:100vh;
      font:500 16px/1.55 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg); color:var(--text);
    }
    a{ color:inherit; text-decoration:none } button{ font:inherit }
    .wrap{ width:min(980px,100%); margin-inline:auto; padding:0 20px }
    header{ position:relative; background:linear-gradient(180deg,rgba(15,13,13,.95),rgba(11,10,10,.7)); border-bottom:1px solid var(--line) }
    .bar{ display:flex; align-items:center; justify-content:space-between; gap:12px; min-height:62px }
    .brand{ display:flex; align-items:center; gap:10px }
    .logo{ width:34px; height:34px; border-radius:10px; background:var(--pink); border:1px solid var(--line); display:grid; place-items:center; font-size:18px; line-height:1; color:#1a0d13; text-shadow:0 1px 0 rgba(0,0,0,.15) }
    .support{ display:inline-flex; align-items:center; gap:8px; padding:9px 12px; border-radius:12px; background:var(--pink); color:#fff; font-weight:800 }
    main{ flex:1; display:block }

    /* Tabs */
    .tabs{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin:20px auto 8px }
    .tab{
      padding:10px 14px; border-radius:999px; background:#111; border:1px solid #262626; color:#d9d9d9;
      font-weight:900; letter-spacing:.25px; transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
      position:relative; overflow:hidden;
    }
    .tab.active{
      background-image:linear-gradient(135deg,var(--pink-1) 0%,var(--pink-2) 100%);
      color:var(--tab-ink); border-color:transparent; box-shadow:0 10px 22px rgba(240,98,146,.35);
    }
    .tab.active:hover{ filter:brightness(1.03); transform:translateY(-1px) }
    .tab:focus-visible{ outline:2px solid var(--pink-2); outline-offset:2px }
    .tab:not(.active)::after{
      content:""; position:absolute; top:0; left:-75%; width:50%; height:100%;
      background:linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.6) 50%, rgba(255,255,255,0) 100%);
      transform:skewX(-25deg);
    }
    .tab:not(.active):hover::after{ left:125%; transition:left .6s ease; }

    /* Module info */
    .module-info{ display:flex; align-items:center; justify-content:center; gap:14px; margin:6px auto 10px; font-size:14px; color:#dcd5cf; flex-wrap:wrap; margin-top:20px }
    .module-info .label{ letter-spacing:.12em; text-transform:uppercase; color:#bfb7af; font-weight:700; font-size:12px }
    .module-info .value{ font-weight:800; color:#f5f4f2 }
    .module-info .sep{ opacity:.35 }
    .module-info .now{ display:inline-flex; align-items:center; gap:10px; color:#f5f4f2 }
    .module-info .dot{ width:8px; height:8px; border-radius:50%; background:var(--pink); box-shadow:0 0 0 0 rgba(240,98,146,.45); animation:pulse 1.8s ease-out infinite }
    .module-info .fraction{ font-weight:900; color:#f5f4f2; font-variant-numeric:tabular-nums }
    .module-info .fraction .cur{ color:var(--pink) }
    .module-info .slash{ opacity:.5; padding:0 2px }
    .module-info .now .tag{ font-weight:800; letter-spacing:.06em; text-transform:uppercase; color:#e8dee1; background-image:linear-gradient(var(--pink), var(--pink)); background-size:100% 2px; background-repeat:no-repeat; background-position:0 105%; padding-bottom:2px }
    @keyframes pulse{ 0%{ box-shadow:0 0 0 0 rgba(240,98,146,.45) } 70%{ box-shadow:0 0 0 10px rgba(240,98,146,0) } 100%{ box-shadow:0 0 0 0 rgba(240,98,146,0) } }

    .progress{ position:relative; height:6px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid var(--line); overflow:hidden; width:min(680px,92%); margin:8px auto 0 }
    .progress .bar{ height:100%; width:0; background:linear-gradient(90deg, rgba(240,98,146,.2), var(--pink)); transition:width .35s ease }

    /* Player card */
    .player-card{ background:var(--panel); border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow); overflow:hidden; margin-top:20px }
    .frame{ position:relative; width:100%; aspect-ratio:16/9; background:#000 }
    .frame iframe{ position:absolute; inset:0; width:100%; height:100%; opacity:0; transition:opacity .28s ease; pointer-events:auto }
    .frame iframe.loaded{ opacity:1 }
    .content{ padding:16px }
    .title{ margin:0 0 6px; font-weight:900; font-size:22px }
    .desc{ margin:0; color:#e9e0d5; font-size:15px }
    .meta{ display:flex; gap:12px; align-items:center; margin-top:10px; color:#d7cfc6; font-size:13px }

    /* Controls */
    .controls{ display:flex; align-items:center; gap:14px; justify-content:center; margin:16px 0 26px }
    .pill{ padding:10px 16px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid var(--line); color:#efe6dc; font-weight:800 }
    .pill.primary{ background-image:linear-gradient(135deg, var(--pink-1) 0%, var(--pink-2) 100%); color:var(--tab-ink); border-color:transparent; box-shadow:0 10px 22px rgba(240,98,146,.35) }
    .pill:disabled{ opacity:.45; pointer-events:none }
    .pill:hover{ transform:translateY(-1px) }

    @media (max-width:720px){
      .module-info{ gap:10px; font-size:13px }
      .title{ font-size:20px }
    }

    /* Resources / Tip / Teaser / Badges */
    .resources{ margin-top:16px; padding:12px 12px 6px; border-top:1px solid var(--line); background:rgba(255,255,255,.02); border-radius:12px }
    .resources h3{ margin:0 0 8px; font-size:16px; font-weight:900; color:var(--pink) }
    .resources ul{ list-style:none; margin:0; padding:0; display:grid; gap:8px }
    .pill-link{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; border:1px solid var(--line); background:rgba(255,255,255,.05); color:var(--text); font-weight:800; text-decoration:none }
    .pill-link:hover{ transform:translateY(-1px) }
    .resources .kind{ opacity:.8; font-weight:700; letter-spacing:.04em; font-size:12px; text-transform:uppercase }
    .tip{ margin-top:12px; padding:10px 12px; border:1px solid var(--line); border-radius:10px; background:rgba(255,255,255,.03); color:#e9e0d5; font-size:14px }
    .tip b{ color:var(--pink) }
    .teaser{ margin-top:12px; padding:12px; border:1px dashed var(--line); border-radius:12px; background:rgba(255,255,255,.03); color:#e9e0d5 }
    .teaser b{ color:var(--pink) }
    .badges{ margin-top:24px; display:flex; justify-content:center; flex-wrap:wrap; gap:8px }
    .badge{ display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:12px; font-size:13px; font-weight:700; border:1px solid rgba(255,255,255,.1); background:linear-gradient(135deg, rgba(255,163,192,.15), rgba(240,98,146,.08)); color:#f8e9f0; box-shadow:inset 0 1px 2px rgba(255,255,255,.05), 0 1px 2px rgba(0,0,0,.2); transition:all .2s ease }
    .badge:hover{ transform:translateY(-1px); box-shadow:inset 0 1px 3px rgba(255,255,255,.08), 0 3px 6px rgba(0,0,0,.25) }
    .badge i{ font-size:12px; opacity:.5; color:currentColor }
    .badge[data-b="m2"]{ background:linear-gradient(135deg, rgba(147,197,253,.15), rgba(99,102,241,.08)) }
    .badge[data-b="m3"]{ background:linear-gradient(135deg, rgba(190,242,100,.15), rgba(34,197,94,.08)) }

    /* Status chip + animations */
    .coming-soon{ margin-top:12px; padding:10px 12px; border:1px dashed var(--line); border-radius:12px; background:rgba(255,255,255,.03); color:#e9e0d5; font-size:14px }
    .coming-soon b{ color:var(--pink) }
    .status-chip{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:rgba(255,255,255,.05); font-weight:800; font-size:12px }
    .status-chip .dot{ width:8px; height:8px; border-radius:50%; background:#888; animation:pulse-gray 1.8s ease-out infinite }
    .status-chip.done .dot{ background:#22c55e; animation:pulse-green 1.8s ease-out infinite }
    @keyframes pulse-green{ 0%{ box-shadow:0 0 0 0 rgba(34,197,94,.45) } 70%{ box-shadow:0 0 0 8px rgba(34,197,94,0) } 100%{ box-shadow:0 0 0 0 rgba(34,197,94,0) } }
    @keyframes pulse-gray{ 0%{ box-shadow:0 0 0 0 rgba(136,136,136,.45) } 70%{ box-shadow:0 0 0 8px rgba(136,136,136,0) } 100%{ box-shadow:0 0 0 0 rgba(136,136,136,0) } }
  </style>
</head>
<body>
  <header>
    <div class="wrap bar">
      <div class="brand">
        <div class="logo" aria-hidden="true">üåç</div><b>The UNIGLOBE</b>
      </div>
      <a class="support" href="mailto:support@getunicornofficial.com"><i class="fa-solid fa-headset"></i> Support</a>
    </div>
  </header>

  <main class="wrap">
    <nav class="tabs" id="tabs"></nav>

    <div class="module-info" id="moduleInfo"></div>
    <div class="progress"><div class="bar" id="progressBar"></div></div>
    <div class="badges" id="badgesRow" style="display:none"></div>

    <section class="player-card">
      <div class="frame" id="frame"></div>
      <div class="content">
        <h2 class="title" id="title"></h2>
        <p class="desc" id="desc"></p>
        <div class="meta" id="meta"></div>
        <label class="complete-toggle"><input type="checkbox" id="completeToggle"> Mark this lesson complete</label>
        <div class="resources" id="resources" style="display:none"></div>
        <div class="tip" id="studentTip" style="display:none"></div>
        <div class="teaser" id="nextTeaser" style="display:none"></div>
        <div class="coming-soon" id="comingSoonNotice"><b>More lessons are coming.</b> New lessons will be added automatically here as they release.</div>
      </div>
    </section>
</main>

  <script>
    // === DATA: Only 3 modules (m1..m3) ===
    const modules = [
  {
    id: 'm1', title: 'MODULE 1', lessons: [
      { title: 'The IERV Formula', desc: 'Maximize the income from Unicorn using the UNIGLOBE system.', time: '44:00', vimeo: 'https://player.vimeo.com/video/1114951237' }
    ]
  }
];

    let currentModule = 0;
    let currentSlide = 0;

    // --- Badges (only for existing modules) ---
    function getBadges(){ try{ return JSON.parse(localStorage.getItem('unicorn_badges')||'[]'); }catch(e){ return []; } }
    function setBadges(arr){ try{ localStorage.setItem('unicorn_badges', JSON.stringify(arr)); }catch(e){} }
    function unlockBadge(modId){ const cur=getBadges(); if(!cur.includes(modId)){ cur.push(modId); setBadges(cur);} renderBadges(); updateNav(); }
    function renderBadges(){
      const row = document.getElementById('badgesRow'); if(!row) return;
      const cur = getBadges().filter(id => ['m1','m2','m3'].includes(id));
      if(!cur.length){ row.style.display='none'; row.innerHTML=''; return; }
      const names = { m1:'Starter', m2:'Content Pro', m3:'Traffic Ace' };
      row.innerHTML = cur.map(id => `<span class="badge" data-b="${id}"><i class="fa-solid fa-award"></i>${names[id]||id}</span>`).join('');
      row.style.display='flex';
    }

    // Completion storage
    function getCompleted(){ try{ return JSON.parse(localStorage.getItem('unicorn_completed')||'{}'); }catch(e){ return {}; } }
    function setCompleted(obj){ try{ localStorage.setItem('unicorn_completed', JSON.stringify(obj)); }catch(e){} }
    function setLessonCompleted(modIdx, slideIdx, done){
      const key = modules[modIdx].id;
      const st = getCompleted();
      const arr = Array.isArray(st[key]) ? st[key] : Array(modules[modIdx].lessons.length).fill(false);
      arr[slideIdx] = !!done; st[key] = arr; setCompleted(st);
    }
    function isLessonCompleted(modIdx, slideIdx){
      const st = getCompleted(); const key = modules[modIdx].id; const arr = Array.isArray(st[key]) ? st[key] : [];
      return !!arr[slideIdx];
    }
    function isModuleComplete(modIdx){
      const st = getCompleted(); const key = modules[modIdx].id; const arr = Array.isArray(st[key]) ? st[key] : [];
      return arr.length === modules[modIdx].lessons.length && arr.every(Boolean);
    }
    function checkModuleBadge(modId){
      const idx = modules.findIndex(m => m.id === modId);
      if (idx < 0) return;
      if (isModuleComplete(idx)) unlockBadge(modId);
    }

    // Tips + teasers
    const tipsByModule = {
      m1:'üí° <b>Tip:</b> Keep your first offer simple. Speed > perfection.',
      m2:'üí° <b>Tip:</b> Reuse your best hooks across multiple videos.',
      m3:'üí° <b>Tip:</b> Dominate one platform before adding another.'
    };

    const tabs = document.getElementById('tabs');
    const frame = document.getElementById('frame');
    const titleEl = document.getElementById('title');
    const descEl = document.getElementById('desc');
    const metaEl = document.getElementById('meta');
    const moduleInfo = document.getElementById('moduleInfo');
    const progressBar = document.getElementById('progressBar');

    function renderTabs(){
      tabs.innerHTML = modules.map((m,i)=>`<button class="tab ${i===currentModule?'active':''}" data-i="${i}">${m.title}</button>`).join('');
    }

    function setPlayer(url){
      // Always use Vimeo
      const sep = url.includes("?") ? "&" : "?";
      const src = `${url}${sep}title=0&byline=0&portrait=0&dnt=1&transparent=0`;
      frame.innerHTML = `<iframe src="${src}" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen referrerpolicy="origin-when-cross-origin" loading="lazy" style="position:absolute;inset:0;width:100%;height:100%"></iframe>`;
      const ifr = frame.querySelector('iframe');
      ifr.addEventListener('load', ()=>ifr.classList.add('loaded'), {once:true});

      // Always render a small "Open on Vimeo" link as backup (still Vimeo)
      
    }

    function updateModuleInfo(){
      const mod = modules[currentModule]; const total = mod.lessons.length; const idx = currentSlide + 1;
      moduleInfo.innerHTML = `
        <span class="label">Module</span> <span class="value">${mod.title.replace('MODULE ','')}</span>
        <span class="sep">‚Ä¢</span>
        <span class="label">Lessons</span> <span class="value">${total}</span>
        <span class="sep">‚Ä¢</span>
        <span class="now"><span class="dot"></span> <span class="tag">Now playing</span> <span class="fraction"><span class="cur">${idx}</span><span class="slash">/</span>${total}</span></span>`;
      const pct = (idx/total)*100; progressBar.style.width = pct + '%';
    }

    function renderSlide(){
      const mod = modules[currentModule]; const lesson = mod.lessons[currentSlide];
      setPlayer(lesson.vimeo); titleEl.textContent = lesson.title; descEl.textContent = lesson.desc || ""; metaEl.textContent = lesson.time ? `‚è± ${lesson.time}` : "";

      // Resources
      const resEl = document.getElementById('resources');
      if (lesson.resources && lesson.resources.length){
        const list = lesson.resources.map(r=>`<li><a class="pill-link" href="${r.url}" target="_blank" rel="noopener"><span class="kind">${(r.type||'LINK').toUpperCase()}</span><span>${r.label}</span></a></li>`).join('');
        resEl.innerHTML = `<h3>Resources</h3><ul>${list}</ul>`; resEl.style.display='block';
      } else { resEl.innerHTML=''; resEl.style.display='none'; }

      // Tips + teaser
      const tipEl = document.getElementById('studentTip'); const tip = tipsByModule[mod.id];
      if (tip){ tipEl.innerHTML = tip; tipEl.style.display='block'; } else { tipEl.style.display='none'; }
      const isLast = currentSlide === mod.lessons.length - 1; const tzEl = document.getElementById('nextTeaser');
      if (isLast){ tzEl.innerHTML = teasers[mod.id]||''; tzEl.style.display = tzEl.innerHTML ? 'block':'none'; checkModuleBadge(mod.id); }
      else { tzEl.style.display='none'; tzEl.innerHTML=''; }

      updateModuleInfo();

      // Completion toggle
      const toggle = document.getElementById('completeToggle');
      if (toggle){
        toggle.checked = isLessonCompleted(currentModule, currentSlide);
        toggle.onchange = function(){
          setLessonCompleted(currentModule, currentSlide, this.checked);
          checkModuleBadge(mod.id); renderBadges();
        };
      }
      renderBadges();
    }

    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    function updateNav(){
      if (!prevBtn || !nextBtn) return;
      const L = modules[currentModule].lessons.length;
      const lastAllowed = Math.min(2, L - 1); // allow up to 3rd lesson (index 2)

      const canPrev = currentSlide > 0;
      const canNext = currentSlide < lastAllowed;

      prevBtn.disabled = !canPrev;
      nextBtn.disabled = !canNext;

      prevBtn.classList.remove('primary');
      nextBtn.classList.remove('primary');

      if (currentSlide === 0 && canNext){
        nextBtn.classList.add('primary');
      } else if (currentSlide === 1 && canPrev && canNext){
        prevBtn.classList.add('primary'); nextBtn.classList.add('primary');
      } else if (currentSlide >= lastAllowed && canPrev){
        prevBtn.classList.add('primary');
      }
    }

    if (prevBtn) prevBtn.addEventListener('click', ()=>{ if (currentSlide > 0){ currentSlide -= 1; renderSlide(); updateNav(); } });
    if (nextBtn) nextBtn.addEventListener('click', ()=>{
      const L = modules[currentModule].lessons.length;
      const lastAllowed = Math.min(2, L - 1);
      if (currentSlide < lastAllowed){ currentSlide += 1; renderSlide(); updateNav(); }
    });

    tabs.addEventListener('click', (e)=>{
      const btn = e.target.closest('.tab'); if (!btn) return;
      const attr = btn.getAttribute('data-i');
      if (attr !== null){
        const idx = parseInt(attr,10); if (!Number.isNaN(idx)){ currentModule = idx; currentSlide = 0; renderTabs(); renderSlide(); updateNav(); }
      }
    });

    // Keyboard navigation (guarded)
window.addEventListener('keydown', (e)=>{
  if (e.key === 'ArrowLeft' && prevBtn) prevBtn.click();
  if (e.key === 'ArrowRight' && nextBtn) nextBtn.click();
});
// Init
    renderTabs(); renderSlide(); renderBadges(); updateNav();
  </script>

  <!-- One-time welcome popup + confetti (unchanged) -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script>
    (function () {
      const KEY = "unicorn_seen_welcome";
      const COOKIE = "unicorn_seen_welcome=1; Max-Age=31536000; Path=/; SameSite=Lax";
      function prefersReducedMotion(){ return window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches; }
      function getCookie(name){ const m = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/[.$?*|{}()\\[\\]\\\\/+^]/g, '\\\\$&') + '=([^;]*)')); return m ? decodeURIComponent(m[1]) : null; }
      function launchConfetti(){ if (prefersReducedMotion()) return; const duration=2000; const end=Date.now()+duration; (function frame(){ confetti({ particleCount:5, angle:60, spread:55, origin:{x:0} }); confetti({ particleCount:5, angle:120, spread:55, origin:{x:1} }); if (Date.now()<end) requestAnimationFrame(frame); })(); }
      function injectStyles(){
        if (document.getElementById("u-welcome-styles")) return;
        const css = `.u-welcome-overlay{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.55);backdrop-filter:saturate(120%) blur(3px);z-index:10000;opacity:1;transition:opacity .2s ease}
        .u-welcome-overlay.hide{opacity:0}.u-welcome-modal{width:min(520px,92vw);background:var(--panel,#151313);color:var(--text,#f5f4f2);border:1px solid var(--line,rgba(255,255,255,.08));border-radius:var(--radius,16px);box-shadow:var(--shadow,0 12px 28px rgba(0,0,0,.45));padding:26px 22px;text-align:center}
        .u-welcome-icon{font-size:34px;margin-bottom:6px}.u-welcome-title{margin:8px 0 6px;font-size:24px;line-height:1.15;color:var(--pink,#f06292);font-weight:900;letter-spacing:.2px}
        .u-welcome-text{margin:0 0 14px;color:#e9e0d5}.u-welcome-btn{padding:10px 18px;border-radius:12px;border:1px solid var(--line,rgba(255,255,255,.08));background:var(--pink,#f06292);color:#1a0d13;font-weight:800;cursor:pointer}
        @media (max-width:520px){.u-welcome-title{font-size:22px}}`;
        const style=document.createElement("style"); style.id="u-welcome-styles"; style.textContent=css; document.head.appendChild(style);
      }
      function showPopup(){
        const overlay=document.createElement("div");
        overlay.className="u-welcome-overlay"; overlay.setAttribute("role","dialog"); overlay.setAttribute("aria-modal","true");
        overlay.innerHTML=`<div class="u-welcome-modal"><div class="u-welcome-icon">üéâ</div><h2 class="u-welcome-title">Congratulations!</h2><p class="u-welcome-text">You've unlocked your copy of Unicorn.<br><b>Select any module below</b> to get started.</p><button class="u-welcome-btn" id="uWelcomeBtn">Let's goo!</button></div>`;
        document.body.appendChild(overlay);
        function close(){ overlay.classList.add("hide"); setTimeout(()=>overlay.remove(),200); }
        overlay.addEventListener("click",(e)=>{ if(e.target===overlay) close(); });
        document.getElementById("uWelcomeBtn").addEventListener("click", close);
      }
      function markSeenClient(){ try{ localStorage.setItem(KEY,"1"); }catch{} document.cookie = COOKIE; }
      function initWelcome(){
        const localSeen = !!(function(){ try{ return localStorage.getItem(KEY); }catch(e){ return null; } })();
        const cookieSeen = !!getCookie("unicorn_seen_welcome");
        const shouldShow = !(localSeen || cookieSeen);
        if (shouldShow){ injectStyles(); launchConfetti(); setTimeout(showPopup,500); markSeenClient(); }
      }
      if (document.readyState === "loading"){ document.addEventListener("DOMContentLoaded", initWelcome); } else { initWelcome(); }
    })();
  </script>

  <!-- Keep "single lesson per module" + progress UI fix -->
  <script id="enforce-single-lesson">
  (function(){
    try{
      if (window.modules && Array.isArray(window.modules)){
        window.modules.forEach(function(m){
          if (m && Array.isArray(m.lessons) && m.lessons.length) m.lessons = [m.lessons[0]];
        });
      }
      window.addEventListener('keydown', function(e){
        if (['ArrowRight','ArrowLeft','PageDown','PageUp'].includes(e.key)) { e.preventDefault(); e.stopImmediatePropagation(); }
      }, true);
      try { if ('currentSlide' in window) window.currentSlide = 0; } catch(e){}
    }catch(e){}
  })();
  </script>

  <script id="progress-fix">
  (function(){
    function $(id){ return document.getElementById(id); }
    function inferModuleNumber(){
      var tabs = document.querySelectorAll('#tabs .tab');
      for (var i=0;i<tabs.length;i++){
        var t=tabs[i];
        if (t.classList && t.classList.contains('active')){
          var m=(t.textContent||'').match(/MODULE\\s+(\\d+)/i);
          return m ? m[1] : null;
        }
      }
      return null;
    }
    function updateProgressUI(){
      try{
        var info=$('moduleInfo'), bar=$('progressBar'), chk=$('completeToggle');
        var completed=!!(chk && chk.checked), total=1, current=1;
        if (info){
          var modNo=inferModuleNumber(); var status=completed?'Completed':'Not completed';
          var statusChip = '<span class="status-chip '+(completed?'done':'')+'"><span class="dot"></span>'+status+'</span>';
          info.innerHTML='<span class="label">Module</span> <span class="value">'+(modNo||'')+'</span>' +
            '<span class="sep">‚Ä¢</span><span class="label">Lessons</span> <span class="value">'+ total +'</span>' +
            '<span class="sep">‚Ä¢</span><span class="now"><span class="dot"></span> <span class="tag">Now playing</span> ' +
            '<span class="fraction"><span class="cur">'+ current +'</span><span class="slash">/</span>'+ total +'</span></span>' +
            '<span class="sep">‚Ä¢</span>' + statusChip;
        }
        if (bar){ bar.style.width = completed ? '100%' : '0%'; bar.setAttribute('aria-valuenow', completed ? '100' : '0'); }
      }catch(e){}
    }
    function attach(){
      var chk=$('completeToggle');
      if (chk && !chk.__bound){ chk.addEventListener('change', updateProgressUI); chk.__bound=true; }
    }
    var tabs=document.getElementById('tabs');
    if (tabs && !tabs.__bound){
      tabs.addEventListener('click', function(){ setTimeout(function(){ attach(); updateProgressUI(); }, 80); });
      tabs.__bound=true;
    }
    var frame=document.getElementById('frame') || document.querySelector('.frame');
    if (frame && window.MutationObserver){
      var mo=new MutationObserver(function(){ setTimeout(function(){ attach(); updateProgressUI(); }, 50); });
      mo.observe(frame,{ childList:true, subtree:false });
    }
    if (document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', function(){ attach(); updateProgressUI(); }); }
    else { attach(); updateProgressUI(); }
  })();
  </script>
<script src="https://player.vimeo.com/api/player.js"></script>

</body>
</html>
